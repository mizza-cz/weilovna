<aside class="aside">
  <a href="#" class="aside__ban" target="_blank">
    <img src="images/content/aside-1.png" loading="lazy" alt="specific" />
  </a>
  <a href="#" class="aside__ban" target="_blank">
    <img src="images/content/aside-2.png" loading="lazy" alt="veticalm" />
  </a>
  <div class="aside__title">Nejprodávanější produkty</div>
  <div class="aside__products">
    {% for i in 1..8 %} {% include "@components/asideProduct/asideProduct.twig"
    %} {% endfor %}

    <div class="asideBtn">{% include "@images/dropdown.svg" %}</div>
  </div>
</aside>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const products = document.querySelectorAll(".asideProduct");
    const buttonMore = document.querySelector(".asideBtn");
    let visibleCount = 3;

    function showProducts() {
      products.forEach((product, index) => {
        if (index < visibleCount) {
          product.classList.add("visible");
        }
      });

      if (visibleCount >= products.length) {
        buttonMore.style.display = "none";
      }
    }

    buttonMore.addEventListener("click", function () {
      visibleCount += 3;
      showProducts();
    });

    showProducts();
  });
</script>
